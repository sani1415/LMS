<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="app.title">Library Management System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Arabic Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="login" class="page active">
        <div>
            <h1 data-translate="login.title">Login</h1>
            <div class="form-container">
            <form id="login-form">
                <div class="form-group">
                    <label for="username" data-translate="login.username">Username</label>
                    <input type="text" id="username" name="username" data-translate-placeholder="login.usernamePlaceholder" autocomplete="username" required>
                </div>
                <div class="form-group">
                    <label for="password" data-translate="login.password">Password</label>
                    <input type="password" id="password" name="password" data-translate-placeholder="login.passwordPlaceholder" autocomplete="current-password" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" data-translate="login.loginButton">Login</button>
                </div>
            </form>
            </div>
        </div>
    </div>
    <div class="app-container" style="display: none;">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">
                <i class="fas fa-book-open"></i>
                    <h2 data-translate="app.name">LMS</h2>
                </div>
                <div class="header-buttons">
                    <div class="language-selector">
                        <i class="fas fa-language"></i>
                        <select id="language-dropdown">
                            <option value="ar">العربية</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                    <button id="logout-btn" class="logout-btn" data-translate-title="common.logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span data-translate="navigation.dashboard">Dashboard</span>
                </li>
                <li class="nav-item" data-page="books">
                    <i class="fas fa-list"></i>
                    <span data-translate="navigation.books">Book List</span>
                </li>
                <li class="nav-item" data-page="add-book">
                    <i class="fas fa-plus-circle"></i>
                    <span data-translate="navigation.addBook">Add Book</span>
                </li>
                <li class="nav-item" data-page="issue-history">
                    <i class="fas fa-history"></i>
                    <span data-translate="navigation.issueHistory">Issue History</span>
                </li>
                <li class="nav-item" data-page="library-log">
                    <i class="fas fa-clipboard-list"></i>
                    <span data-translate="navigation.libraryLog">Library Log</span>
                </li>
                <li class="nav-item" data-page="members">
                    <i class="fas fa-users"></i>
                    <span data-translate="navigation.members">Manage Members</span>
                </li>
                <li class="nav-item" data-page="categories">
                    <i class="fas fa-tags"></i>
                    <span data-translate="navigation.categories">Manage Categories</span>
                </li>
                <li class="nav-item" data-page="publishers">
                    <i class="fas fa-building"></i>
                    <span data-translate="navigation.publishers">Manage Publishers</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <h1 data-translate="dashboard.title">Dashboard</h1>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="stat-content">
                            <h3 data-translate="dashboard.totalBooks">Total Books</h3>
                            <p class="stat-number" id="total-books">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-edit"></i>
                        </div>
                        <div class="stat-content">
                            <h3 data-translate="dashboard.totalAuthors">Total Authors</h3>
                            <p class="stat-number" id="total-authors">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tags"></i>
                        </div>
                        <div class="stat-content">
                            <h3 data-translate="dashboard.totalCategories">Total Categories</h3>
                            <p class="stat-number" id="total-categories">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 data-translate="dashboard.booksAvailable">Books Available</h3>
                            <p class="stat-number" id="books-available">0</p>
                        </div>
                    </div>
                    <div class="stat-card clickable" id="books-issued-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 data-translate="dashboard.booksIssued">Books Issued</h3>
                            <p class="stat-number" id="books-issued">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Book List Page -->
            <div id="books" class="page">
                <div class="page-header">
                    <h1 data-translate="books.title">Book List</h1>
                    <button class="btn btn-primary" id="export-excel">
                        <i class="fas fa-download"></i> <span data-translate="books.exportExcel">Export to Excel</span>
                    </button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>
                                    <span data-translate="books.bookName">Book Name</span>
                                    <input type="text" class="filter-input" data-column="bookName" data-translate-placeholder="books.filter">
                                </th>
                                <th>
                                    <span data-translate="books.author">Author</span>
                                    <input type="text" class="filter-input" data-column="author" data-translate-placeholder="books.filter">
                                </th>
                                <th>
                                    <span data-translate="books.category">Category</span>
                                    <input type="text" class="filter-input" data-column="category" data-translate-placeholder="books.filter">
                                </th>
                                <th>
                                    <span data-translate="books.publisher">Publisher</span>
                                    <input type="text" class="filter-input" data-column="publisher" data-translate-placeholder="books.filter">
                                </th>
                                <th>
                                    <span data-translate="books.year">Year</span>
                                    <input type="text" class="filter-input" data-column="year" data-translate-placeholder="books.filter">
                                </th>
                                <th>
                                    <span data-translate="books.volumes">Volumes</span>
                                    <input type="text" class="filter-input" data-column="volumes" data-translate-placeholder="books.filter">
                                </th>
                                <th>
                                    <span data-translate="books.note">Special Note</span>
                                    <input type="text" class="filter-input" data-column="note" data-translate-placeholder="books.filter">
                                </th>
                                <th>
                                    <span data-translate="books.status">Status</span>
                                    <select class="filter-select" data-column="status">
                                        <option value="" data-translate="common.all">All</option>
                                        <option value="Available" data-translate="books.available">Available</option>
                                        <option value="Issued" data-translate="books.issued">Issued</option>
                                    </select>
                                </th>
                                <th data-translate="books.actions">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="books-table-body">
                            <!-- Books will be populated here -->
                        </tbody>
                    </table>
                    <div class="pagination">
                        <button class="btn btn-secondary" id="prev-page">Previous</button>
                        <span id="page-info">Page 1 of 1</span>
                        <button class="btn btn-secondary" id="next-page">Next</button>
                    </div>
                </div>
            </div>

            <!-- Add Book Page -->
            <div id="add-book" class="page">
                <h1 data-translate="addBook.title">Add New Book</h1>
                <div class="form-container">
                    <form id="add-book-form">
                        <div class="form-group">
                            <label for="bookName"><span data-translate="addBook.bookName">Book Name</span> <span data-translate="addBook.required">*</span></label>
                            <input type="text" id="bookName" name="bookName" required>
                            <div class="duplicate-suggestions" id="book-suggestions"></div>
                        </div>
                        <div class="form-group">
                            <label for="author"><span data-translate="addBook.author">Author Name</span> <span data-translate="addBook.required">*</span></label>
                            <input type="text" id="author" name="author" required>
                            <div class="duplicate-suggestions" id="author-suggestions"></div>
                        </div>
                        <div class="form-group">
                            <label for="volumes" data-translate="addBook.volumes">Book Parts / Volumes</label>
                            <input type="number" id="volumes" name="volumes" min="1">
                        </div>
                        <div class="form-group">
                            <label for="category"><span data-translate="addBook.category">Category</span> <span data-translate="addBook.required">*</span></label>
                            <select id="category" name="category" required>
                                <option value="" data-translate="common.select">Select Category</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="publisher" data-translate="addBook.publisher">Publisher</label>
                            <select id="publisher" name="publisher">
                                <option value="">Select Publisher</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="year" data-translate="addBook.year">Year of Publish</label>
                            <input type="number" id="year" name="year" min="1800" max="2024">
                        </div>
                        <div class="form-group">
                            <label for="note" data-translate="addBook.note">Special Note</label>
                            <textarea id="note" name="note" rows="3"></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Add Book</button>
                            <button type="button" class="btn btn-secondary" id="import-excel">
                                <i class="fas fa-upload"></i> Import from Excel
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Issue History Page -->
            <div id="issue-history" class="page">
                <h1>Issue History</h1>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>
                                    Book Name
                                    <input type="text" class="filter-input" data-column="bookName" placeholder="Filter...">
                                </th>
                                <th>
                                    Member Name
                                    <input type="text" class="filter-input" data-column="memberName" placeholder="Filter...">
                                </th>
                                <th>Issue Date</th>
                                <th>Return Date</th>
                                <th>
                                    Status
                                    <select class="filter-select" data-column="status">
                                        <option value="">All</option>
                                        <option value="Pending">Pending</option>
                                        <option value="Returned">Returned</option>
                                    </select>
                                </th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="issue-history-table-body">
                            <!-- Issue history will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Library Log Page -->
            <div id="library-log" class="page">
                <h1>Library Log</h1>
                <div class="log-container">
                    <div class="add-log-entry">
                        <textarea id="new-log-entry" placeholder="Enter new log entry..." rows="3"></textarea>
                        <button class="btn btn-primary" id="add-log-btn">Add Entry</button>
                    </div>
                    <div class="log-entries" id="log-entries">
                        <!-- Log entries will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Manage Members Page -->
            <div id="members" class="page">
                <h1 data-translate="members.title">Manage Members</h1>
                <div class="manage-container">
                    <div class="add-item">
                        <input type="text" id="new-member" data-translate-placeholder="members.newMember">
                        <button class="btn btn-primary" id="add-member-btn" data-translate="members.addMemberBtn">Add Member</button>
                    </div>
                    <div class="items-list" id="members-list">
                        <!-- Members will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Manage Categories Page -->
            <div id="categories" class="page">
                <h1 data-translate="categories.title">Manage Categories</h1>
                <div class="manage-container">
                    <div class="add-item">
                        <input type="text" id="new-category" data-translate-placeholder="categories.newCategory">
                        <button class="btn btn-primary" id="add-category-btn" data-translate="categories.addCategoryBtn">Add Category</button>
                    </div>
                    <div class="items-list" id="categories-list">
                        <!-- Categories will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Manage Publishers Page -->
            <div id="publishers" class="page">
                <h1 data-translate="publishers.title">Manage Publishers</h1>
                <div class="manage-container">
                    <div class="add-item">
                        <input type="text" id="new-publisher" data-translate-placeholder="publishers.newPublisher">
                        <button class="btn btn-primary" id="add-publisher-btn" data-translate="publishers.addPublisherBtn">Add Publisher</button>
                    </div>
                    <div class="items-list" id="publishers-list">
                        <!-- Publishers will be populated here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Modal Title</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Modal content will be populated here -->
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal-overlay" class="modal-overlay">
        <div class="modal confirm-modal">
            <div class="modal-header">
                <h3>Confirm Action</h3>
            </div>
            <div class="modal-body">
                <p id="confirm-message">Are you sure you want to perform this action?</p>
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="confirm-cancel">Cancel</button>
                    <button class="btn btn-danger" id="confirm-ok">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="js/i18n.js"></script>
    <script src="js/app.js"></script>
    </div>
</body>
</html>
